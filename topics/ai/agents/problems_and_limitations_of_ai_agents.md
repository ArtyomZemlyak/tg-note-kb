# Проблемы и ограничения при работе с ИИ-агентами

## Введение

Несмотря на значительные преимущества, работа с ИИ-агентами в программировании сталкивается с рядом проблем и ограничений. Эти трудности были выявлены в процессе практического опыта разработки проектов с использованием ИИ-агентов, таких как Cursor.

## Основные проблемы

### 1. Плохое восприятие файлов AGENTS.md

**Проблема**: Файлы AGENTS.md, содержащие инструкции для агентов, часто воспринимаются плохо. Многое из того, что в них содержится, просто не реализуется агентами.

**Последствия**: 
- Повышенная вероятность отклонений от заданных инструкций
- Необходимость ручного контроля и последующей корректировки работы агента

### 2. Сложности с рефакторингом

**Проблема**: Рефакторинг кода агентами дается тяжело. Даже относительно простые изменения архитектуры требуют нескольких итераций с последующим фиксом багов.

**Последствия**:
- Увеличение времени на выполнение задач рефакторинга
- Повышенная вероятность появления новых багов
- Необходимость тщательной проверки результатов рефакторинга

### 3. Ограничения в тестировании

**Проблема**: Не все можно запускать и отлаживать в рамках сэндбокса агента. В некоторых случаях тестирование приходится делать вручную.

**Последствия**:
- Не все функции могут быть протестированы агентом автоматически
- Агенты забывают обновлять тесты в соответствии с изменением логики кода
- Необходимость ручного тестирования и поддержания актуальности тестов

**Возможные решения**:
- Хорошие практики тестирования с моками
- Поддержание актуальности тестов вручную
- Разработка стратегии тестирования, учитывающей возможности агентов

## Архитектурные ограничения

### Зависимость от качества архитектуры
- Если код не структурирован должным образом, агентам сложнее выполнять задачи
- Плохо спроектированный код может привести к непредсказуемым изменениям

### Ограничения по объему изменений
- Агенты лучше справляются с небольшими изменениями
- Крупные изменения (2000+ строк) могут привести к частичной реализации или ошибкам

## Потенциальные улучшения

### Spec-Driven Development
- Использование подробной спецификации как основы для работы агентов
- Это может решить проблемы с четкостью и итеративностью подхода

### Альтернативные провайдеры ИИ
- Claude Code и Codex рассматриваются как более надежные альтернативы Cursor
- Cursor лучше подходит для быстрого создания MVP, чем для долгосрочных проектов

### Альтернативные архитектурные паттерны
- Применение архитектурных паттернов с самого начала разработки
- Это может улучшить прозрачность и предсказуемость работы с ИИ-агентами

## Связи с другими темами

- [[vibecoding.md]] - Вайбкодинг и его ограничения
- [[principles_of_working_with_ai_agents.md]] - Принципы работы с ИИ-агентами, включающие обход проблем
- [[code_agents/index.md]] - Общая информация о кодовых агентах и их возможностях
- [[testing/test_automation_with_ai.md]] - Автоматизация тестирования с помощью ИИ
- [[programming/software_architecture/SOLID_principles.md]] - Принципы SOLID, которые помогают уменьшить проблемы с архитектурой при работе с ИИ-агентами