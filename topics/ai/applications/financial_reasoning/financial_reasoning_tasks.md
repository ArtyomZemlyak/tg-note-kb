# Финансовые задачи с шаблонным рассуждением

## Краткое описание

Финансовые задачи с шаблонным рассуждением - это задачи в финансовой области, где решение следует фиксированному procedural шаблону. В статье рассматриваются две такие задачи: NSM (Numerical Semantic Matching) и TPC (Transaction Purpose Classification), которые демонстрируют эффективность подхода PARO и методологии SFT+RLVR.

## Основная информация

Исследование использует финансовый домен как пример, где задачи действительно следуют устойчивому процедурному шаблону решения. Это делает их идеальными кандидатами для экономичного обучения с использованием PARO и SFT+RLVR.

### NSM (Numerical Semantic Matching)

**Определение задачи**: Определить, эквивалентны ли два числовых упоминания в документах (годовые отчёты/проспекты IPO).

**Шаги шаблона решения**:
1. **Найти числа в контексте** - Локализовать числовые упоминания в документах
2. **Интерпретировать смысл** - Определить время, показатель, субъект числового значения
3. **Выровнять сущности/контекст** - Сопоставить числовые упоминания с учетом контекста
4. **Принять решение об эквивалентности** - Определить, эквивалентны ли два числовых упоминания

**Датасеты и эксперименты**:
- Обучающая выборка: 110k пар из 544 годовых отчётов китайских компаний (2018–2024)
- Дополнительно: 10k примеров с рационалями от 8 аннотаторов с валидацией 2 финансовых экспертов (RatQA-10k)
- Тест: по 20k примеров из годовых отчётов и проспектов IPO (кросс-доменная проверка)
- Метрики: Accuracy/Precision/Recall/F1
- Бэкбон: Qwen3-8B; обучение на 24× H100 80GB

**Ключевые результаты**:
- Лучший подход - SFT+RLVR: Acc 90.3 / F1 78.4 (в среднем по доменам)
- На IPO: Acc 88.3 / F1 73.6
- На годовых отчётах: Acc 92.3 / F1 83.2

### TPC (Transaction Purpose Classification)

**Определение задачи**: Классифицировать банковскую транзакцию по фиксированному таксономическому набору из 62 категорий.

**Шаги шаблона решения**:
1. **Извлечь ключевые признаки** - Выделить информацию из банковской транзакции
2. **Соотнести с правилами таксономии** - Сопоставить с фиксированным набором категорий
3. **Выбрать класс** - Определить соответствующую категорию транзакции
4. **Кратко обосновать (опционально)** - Объяснить выбор класса

**Датасеты и эксперименты**:
- 1k примеров с рационалями для SFT
- 40k пар (вопрос, ответ) для RLVR

## Результаты применения PARO

**Для NSM**:
- SFT(1k, Human)+RLVR - F1 82.3
- SFT(10k, Human)+RLVR - F1 83.2
- SFT(1k, PARO)+RLVR - F1 83.6 (лучше 10k human!)

**Для TPC**:
- SFT(1k, Human)+RLVR - 87.9 F1
- SFT(1k, PARO)+RLVR - 87.9 F1 (на уровне human)

## Новые концепции и термины

- **Кросс-доменная проверка**: Проверка модели на данных из другого домена (например, на IPO после обучения на годовых отчетах)
- **Ратионали от экспертов**: Объяснения решений, созданные финансовыми экспертами
- **Таксономия классификации**: Иерархическая система категорий для классификации транзакций
- **RatQA-10k**: Датасет с 10k примерами, размеченными экспертами

## Примеры применения

Финансовые задачи с шаблонным рассуждением включают:
- Анализ годовых отчетов компаний
- Классификация банковских транзакций
- Проверка финансовых документов
- Кредитный скоринг по фиксированным критериям
- Выявление аномалий в финансовых данных

## Практические рекомендации

1. **Определите, ваша ли это категория**: Если задача следует стабильному шаблону (классификация по фиксированным правилам, верификация по чек-листу), вы кандидат на "малобюджетное" обучение рассуждения.

2. **Стратегия обучения**: Делайте короткое SFT по шаблону (даже на 1k примеров), затем RLVR на большом массиве (вопрос, ответ).

3. **Где взять рационали**: Используйте PARO - сформулируйте пошаговый шаблон, дайте 1–2 эталонных примера, и генерируйте рационали автоматически.

4. **Диагностика моделей**: Анализируйте развилочные токены (RFTD), чтобы убедиться, что модель "цепляется" за смысловые шаги шаблона.

## Ограничения и границы применимости

- **Зависимость от качества формализации шаблона**: Если вы неверно описали шаги, PARO породит "убедительные, но неверные" рационали.

- **Доменная предвзятость**: Исследование проводилось на финансовых данных и китайских отчётах (2018–2024); переносимость в другие домены требует эмпирической проверки.

- **Не для адаптивных задач**: Где стратегия решения меняется от случая к случаю.

## Связи с другими темами

- [[ai/reasoning/pattern_learning/paro.md]] - Подход PARO, применяемый к финансовым задачам
- [[ai/reasoning/sft_rlvr_methodology.md]] - Методология, использованная для решения финансовых задач
- [[ai/reasoning/reasoning_patterns.md]] - Шаблоны рассуждения, применимые к финансовым задачам
- [[ai/reasoning/rftd_analysis.md]] - Используется для диагностики моделей, решающих финансовые задачи