# silero-stress

## Описание

**silero-stress** — это предварительно обученная enterprise-библиотека для автоматического расставления ударений и разрешения омографов в русском языке. Библиотека автоматически добавляет знаки ударения к русскому тексту для указания правильного произношения и разрешает омографы (слова, которые пишутся одинаково, но имеют разное значение и ударение).

## Основные возможности

1. **Расстановка ударений**: Автоматически расставляет ударения в русских словах
2. **Разрешение омографов**: Определяет правильное значение слов, которые пишутся одинаково, но имеют разные значения
3. **Поддержка буквы "ё"**: Правильно расставляет букву "ё" в тексте
4. **Широкое покрытие словаря**: Поддерживает около 4 миллионов русских слов и словоформ с 100% точностью
5. **Обработка неизвестных слов**: Работает с неизвестными (и вымышленными) словами с точностью 60-70%

## Технические характеристики

- **Размер библиотеки**: Около 50 МБ (архив ~30 МБ), со сжатием ~400 раз
- **Производительность**: ~0.5 мс на обычное слово, ~30 мс на предложение из 400 символов с двумя омографами
- **Зависимости**: Только PyTorch и стандартная библиотека Python
- **Системные требования**: 
  - Python 3.10+
  - 1ГБ+ оперативной памяти
  - Современный процессор с инструкциями AVX, AVX2, AVX-512 или AMX (для x86-64)
- **Лицензия**: MIT (открытая и свободная)

## Архитектура

- **Основные компоненты**: accentor и homosolver, которые можно использовать независимо
- **Нейронный движок**: Использует PyTorch в качестве основного движка нейронных сетей
- **Сжатие моделей**: Достигает ~400x коэффициента сжатия при сохранении производительности
- **Эффективность использования памяти**: Оптимизирован для использования ЦП с эффективным потоком выполнения

## Установка и использование

### Установка через pip:
```bash
pip install silero-stress
```

### Пример использования:
```python
from silero_stress import load_accentor
accentor = load_accentor()
sample_sent = "Меня зовут Лева Королев. Я из готов. И я уже готов открыть все ваши замки любой сложности!"
print(accentor(sample_sent))
# Результат: Мен+я зов+ут Л+ёва Корол+ёв. +Я +из г+отов. +И +я уж+е гот+ов откр+ыть вс+е в+аши замк+и люб+ой сл+ожности!
```

### Использование через torch.hub:
```python
import torch
torch.set_num_threads(1)

accentor = torch.hub.load(repo_or_dir='snakers4/silero-stress')
sample_sent = "Меня зовут Лева Королев. Я из готов. И я уже готов открыть все ваши замки любой сложности!"
print(accentor(sample_sent))
# Результат: Мен+я зов+ут Л+ёва Корол+ёв. +Я +из г+отов. +И +я уж+е гот+ов откр+ыть вс+е в+аши замк+и люб+ой сл+ожности!
```

## Точность и производительность

- **Точность на известных словах**: 100%
- **Для омографов**: F1-мера 0.85, точность на уровне слов 91%, общая точность набора данных 93%
- **Для неизвестных слов**: 60-70% точности
- **Производительность**: ~0.5 мс на слово на 1 потоке ЦП, ~30 мс для предложения с омографами

## Сравнение с другими решениями

| Модель | Точность | Полнота | F1 | Точность слов | Общая точность | Заметки |
|--------|----------|---------|----|---------------|----------------|---------|
| silero-stress | 0.84 | 0.9 | 0.85 | 0.92 | 0.93 | Текущая публичная версия |
| silero-stress-private | 0.9 | 0.96 | 0.91 | 0.96 | 0.96 | Более качественная приватная версия |
| RUAccent-tiny2.1 | 0.65 | 0.61 | 0.56 | 0.69 | 0.78 | Академическое решение |
| RUAccent-turbo3.1 | 0.7 | 0.7 | 0.64 | 0.76 | 0.84 | Академическое решение |
| omogre | 0.47 | 0.56 | 0.46 | 0.67 | 0.73 | Академическое решение |

## Преимущества

1. **Высокая производительность**: 30 мс на обработку абзаца против конкурентов, которые могут работать дольше синтеза речи
2. **Легковесность**: Небольшой пакет 50 МБ против раздутых академических решений
3. **Готовность к производству**: Разработан для практического использования, а не для академических эталонов
4. **Высокая точность**: Высокая точность на реальных наборах данных
5. **Эффективное использование ЦП**: Однопоточный режим против конкурентов, использующих весь ЦП
6. **Комплексный подход**: Обрабатывает омографы, ударения и "ё" одновременно
7. **Открытый исходный код**: Лицензия MIT
8. **Обобщение по словарю**: 60-70% точности на неизвестных словах
9. **Сохранение пунктуации**: Не изменяет исходный текст произвольно

## Примеры применения

- Академические исследования
- Приложения синтеза текста в речь
- Телефония и автоматизация колл-центров
- Голосовые боты

## Ссылки

- [Официальный репозиторий GitHub](https://github.com/snakers4/silero-stress)
- [Статья на Habr](https://habr.com/ru/articles/955130/)