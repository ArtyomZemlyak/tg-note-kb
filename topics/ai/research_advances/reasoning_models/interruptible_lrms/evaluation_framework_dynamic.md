# Динамический фреймворк оценки LRM

## Обзор

Новый аналитический фреймворк для оценки Large Reasoning Models (LRM) как постоянно действующих, прерываемых агентов. Методология систематически вводит прерывания в рассуждения модели в разные моменты времени, что позволяет стандартизированно оценить, как тайминг влияет на производительность.

## Двухэтапный процесс инференса

Фреймворк формализует двухэтапный процесс инференса:
1. Модель генерирует префикс рассуждений до определённой точки
2. После чего вводится вмешательство

## Ключевые метрики оценки

- **Корректность финального ответа** - основная метрика эффективности
- **Длина вывода после прерывания** - прокси для вычислительных затрат

## Сценарии оценки

### 1. Прерывания с ограничением по времени

Проверяют способность модели функционировать как "anytime" агент — алгоритм, который можно остановить в любой момент для получения валидного, хотя и, возможно, неидеального решения на основе уже проделанных вычислений.

#### Жёсткие прерывания (Hard Interrupts)
- Модель вынуждена немедленно прекратить рассуждения и выдать ответ
- Оценивают качество частичного вывода
- Вводятся как "terminate thinking block" в процессе рассуждений

#### Мягкие прерывания (Soft Interrupts)
- Модели даётся указание вроде "Пожалуйста, ответь быстрее"
- Проверяют способность сжимать или ускорять мыслительный процесс
- Вводятся как запрос на ускорение без прекращения рассуждений

### 2. Прерывания с обновлением контекста

Наиболее новый аспект фреймворка, который проверяет адаптивность модели путём изменения условий задачи в середине инференса. Это кардинально отличает подход от предыдущих работ по "эффективным рассуждениям", которые пытались сократить или вовсе обойти цепочку рассуждений с самого начала.

## Техническая реализация

Фреймворк использует vLLM для инференса с различными режимами:
- `initial`: Полное рассуждение без прерываний (базовая линия)
- `subsequent_interrupt_hard`: Жёсткое прерывание (прекращение мышления)
- `subsequent_interrupt_soft`: Мягкое прерывание (инструкция ускорения)
- `subsequent_interrupt_update`: Обновление без прекращения

## Датасеты для оценки

### Математические бенчмарки:
- GSM8K
- MATH500
- AIME2024
- AIME2025

### Бенчмарки кодирования/программирования:
- LiveCodeBench (LCB)

## Структура данных

Процесс подготовки данных включает:
- Загрузку исходных бенчмарков
- Аугментацию для создания версий с возможностью прерывания
- Трехступенчатый процесс кодового вмешательства для программных задач (разбиение проблем, редактирование спецификаций, редактирование стартового кода)

## Основные находки фреймворка

1. **Время влияет на производительность**: Вмешательства, введенные на поздних этапах рассуждений, приводят к большему падению производительности.

2. **Тип прерывания имеет значение**: Разные типы прерываний вызывают разные патологии в поведении модели.

3. **Шкалирование не решает проблему**: Масштабирование модели само по себе не решает проблемы прерываемости; даже самая маленькая из протестированных моделей (Qwen3-1.7B) оказалась катастрофически хрупкой к обновлениям.

## Значение фреймворка

Этот фреймворк предоставляет:
- Стандартизированный способ оценки прерываемости LRM
- Количественные метрики для измерения хрупкости в динамических условиях
- Публичный бенчмарк для сообщества
- Инструмент для будущих исследований в области устойчивости LRM

## Ссылки и развитие темы

- [[failure_modes_lrm.md]] - Критические режимы сбоя в LRM
- [[frozen_world_assumption.md]] - Проблема допущения "замороженного мира"
- [[real_world_applications.md]] - Применение в реальных условиях