# Sortformer Speaker Diarization: Потоковая модель диаризации дикторов

## Описание

Sortformer Speaker Diarization — это модель диаризации дикторов, разработанная NVIDIA для идентификации и маркировки различных дикторов в многопользовательском аудио. Модель позволяет точно определять, кто говорит, когда, и используется в паре с многоголосовыми системами распознавания речи, такими как NVIDIA Multitalker Parakeet.

## Разновидности модели

Существуют различные версии модели Sortformer, каждая с собственными особенностями:

- **Sortformer**: Базовая архитектура, обеспечивающая основные функции диаризации
- **Streaming Sortformer**: Улучшенная версия для обработки в реальном времени
- **[[nvidia_diar_streaming_sortformer_4spk_v2_1.md|NVIDIA Diar Streaming Sortformer 4spk-v2.1]]**: Продвинутая версия с поддержкой до 4 дикторов в реальном времени

## Основные характеристики

- **Потоковая обработка**: Поддерживает реальную обработку аудио в реальном времени
- **Сортировка дикторов**: Уникально сортирует дикторов на основе времени их первого появления в аудиозаписи
- **Масштабируемость**: Может обрабатывать произвольное количество дикторов
- **Интеграция с ASR**: Создана для работы в связке с моделями распознавания речи

## Техническая архитектура

- **Архитектура**: Состоит из L-размерного (18 слоев) NeMo Encoder for Speech Tasks (NEST), который основан на энкодере Fast-Conformer
- **Основа**: Fast-Conformer энкодер с агрессивной сабдискретизацией и свертками с разделением по глубине
- **Обработка**: Анализирует аудио и создает временные тайминги для каждого диктора

## Применение

Sortformer особенно эффективен в следующих сценариях:

- Видеоконференции и собрания
- Обработка колл-центров
- Транскрипция интервью или обсуждений
- Анализ речи в многопользовательских средах

## Работа в связке с ASR

Sortformer часто используется в качестве первого этапа в многоголосовых ASR-системах, таких как Multitalker Parakeet. Процесс работает следующим образом:

1. **Диаризация**: Sortformer идентифицирует и маркирует разных дикторов в аудио
2. **Передача метаданных**: Выходы диаризации передаются в многоголосовую ASR-модель
3. **Распознавание речи**: ASR-модель использует информацию о дикторах для создания раздельных транскрипций

## Преимущества

- **Низкая задержка**: Потоковая архитектура обеспечивает минимальную задержку
- **Точность**: Высокая точность идентификации дикторов даже в сложных сценариях с перекрывающейся речью
- **Реальное время**: Работает в реальном времени, что важно для приложений в прямом эфире
- **Масштабируемость**: Может адаптироваться к различному числу дикторов

## Связи с другими темами

- [[nvidia_multitalker_parakeet_streaming.md]] - Многоголосовая модель ASR, использующая выводы диаризации
- [[nvidia_diar_streaming_sortformer_4spk_v2_1.md]] - Продвинутая версия с поддержкой до 4 дикторов в реальном времени
- [[speech_recognition.md]] - Общие принципы распознавания речи
- [[fast_conformer_architecture.md]] - Архитектура, на которой основана модель
- [[speaker_separation_techniques.md]] - Общие методы разделения речи различных дикторов

## Источники

1. [NVIDIA Sortformer Diarization Model on NGC](https://catalog.ngc.nvidia.com/orgs/nvidia/teams/riva/models/sortformer_diarizer) - Официальная страница модели на NVIDIA NGC
2. [NVIDIA Developer Blog: Identify Speakers in Meetings](https://developer.nvidia.com/blog/identify-speakers-in-meetings-calls-and-voice-apps-in-real-time-with-nvidia-streaming-sortformer/) - Блог-пост о технологии
3. [GitHub NeMo Issues #14406](https://github.com/nvidia/nemo/issues/14406) - Информация о планируемой интеграции с ASR-моделями
4. [Research Paper: NEST: Self-supervised Fast Conformer as All-purpose Encoder for Speech Tasks](https://www.semanticscholar.org/paper/NEST%3A-Self-supervised-Fast-Conformer-as-All-purpose-Huang-Park/9e14045c0229a182fea2dc6e9c5bedc52fdfe41c) - Техническая информация об архитектуре NEST