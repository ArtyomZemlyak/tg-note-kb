# Распознавание речи (Speech Recognition)

## Определение

**Распознавание речи** (Automatic Speech Recognition, ASR) — это технология, преобразующая устную речь в текст. Это процесс, при котором звуковой сигнал, полученный от говорящего, преобразуется в письменный текст с использованием алгоритмов машинного обучения и обработки сигналов.

## Компоненты системы распознавания речи

### Акустическая модель
- Связывает аудиовход с базовыми единицами языка (фонемами)
- Обычно основана на глубоких нейронных сетях

### Языковая модель
- Предсказывает вероятность последовательности слов
- Помогает выбрать наиболее вероятную гипотезу из нескольких возможных

### Декодер
- Объединяет информацию из акустической и языковой моделей
- Генерирует наиболее вероятную текстовую транскрипцию

## Методы распознавания речи

### Традиционные методы
- Hidden Markov Models (HMM) с Gaussian Mixture Models (GMM)
- Использовались в более ранних системах

### Современные методы
- Глубокие нейронные сети (DNN)
- Рекуррентные нейронные сети (RNN) и LSTM
- Трансформеры и другие современные архитектуры

### Нон-автогрессивные методы
- **Нон-автогрессивные модели (NAR)**: Генерируют весь текстовый вывод параллельно, в отличие от автогрессивных моделей, которые генерируют токены по одному
- **Дискретный флоу-мэтчинг**: Современный подход, используемый в моделях, таких как [[drax.md|Drax]], для эффективного параллельного декодирования
- **Диффузионные ASR модели**: Используют диффузионные процессы для генерации текста из аудио-представлений

## Применение

- Виртуальные помощники (Siri, Alexa, Google Assistant)
- Транскрибация аудио и видео
- Диктофоны и заметки
- Речевые интерфейсы в автомобилях
- Доступность (помощь людям с нарушениями слуха)
- Компонент каскадных систем перевода речи в речь (S2ST)

## Связь с расстановкой ударений

Распознавание речи также может быть затронуто проблемой омографов в русском языке, особенно:
- При преобразовании распознанного текста в письменную форму
- При выборе между возможными интерпретациями аудиосигнала
- При разрешении неоднозначностей в языковой модели

Расстановка ударений в тексте после распознавания речи может помочь:
- Улучшить понимание текста
- Повысить точность последующих NLP задач
- Обеспечить более точную транскрипцию

## Проблемы и вызовы

- Шумы окружающей среды
- Акценты и диалекты
- Разговорная речь (паузы, повторения, фонетические искажения)
- Омографы и ударения (особенно в русском языке)

## Последние разработки

### Нон-автогрессивные ASR модели
Недавние исследования, такие как [[drax.md|Drax]], демонстрируют потенциал нон-автогрессивных моделей, использующих дискретный флоу-мэтчинг для эффективного параллельного декодирования. Эти модели достигают точности, сопоставимой с современными методами, при улучшенных компромиссах точности и эффективности.

### Многоголосовые ASR системы
Современные разработки включают системы, способные распознавать речь нескольких дикторов одновременно. NVIDIA представила архитектуру [[nvidia_multitalker_parakeet_streaming.md|Multitalker Parakeet]], которая позволяет транскрибировать речь нескольких дикторов в реальном времени, используя предварительную диаризацию спикеров. Эта модель особенно полезна в сценариях конференций, собраний и других многопользовательских аудиоокружений.

### Каскадные и сквозные подходы
Традиционно ASR использовался как первый этап в каскадных системах перевода речи в речь (S2ST), где:
- **ASR** (Automatic Speech Recognition): преобразует речь в текст
- **AST** (Automatic Speech Translation): переводит текст на целевой язык
- **TTS** (Text-to-Speech): преобразует переведенный текст обратно в речь

Этот каскадный подход имел существенные недостатки:
- Значительные задержки (4-5 секунд), из-за которых требовался поочередный разговор
- Накопление ошибок на каждом этапе
- Отсутствие персонализации

Современные сквозные (end-to-end) подходы, такие как представленные в [[../s2st/google_real_time_s2st.md|Google Real-time Speech-to-Speech Translation]], позволяют осуществлять прямой перевод речи в речь без промежуточного текстового этапа, значительно снижая задержки и ошибки.

## Оценка качества ASR-моделей

### Традиционные методы оценки
- **WER** (Word Error Rate) - доля ошибочных слов
- **CER** (Character Error Rate) - доля ошибочных символов
- Эти метрики хорошо коррелируют с человеческой оценкой, но не всегда отражают воспринимаемое качество

### Современные подходы: LLM-as-a-judge
Современные подходы к оценке качества ASR-моделей включают использование LLM-as-a-judge, где большие языковые модели используются в качестве судьи для сравнения качества транскрипций. Методы включают:

- **Side-by-Side оценка**: LLM сравнивает транскрипции двух моделей и выбирает лучшую
- **Прямая оценка качества**: LLM присваивает оценку (например, по 10-балльной шкале) транскрипции
- **Оценка с объяснением**: LLM не только оценивает качество, но и объясняет причины оценки

Например, в оценке GigaAM-v3 использовался подход Side-by-Side с Gemini 2.5 Pro в качестве судьи для сравнения качества GigaAM-v3 с Whisper-large-v3.

## Связь с другими темами

- [[omographs_russian.md]] - Проблема омографов и ударений в русском языке
- [[models/silero-stress.md]] - Библиотека для расстановки ударений
- [[../tts/speech_synthesis.md]] - Синтез речи
- [[../../llm/models/multimodal/qwen3-omni-audio-processing.md|Обработка аудио в Qwen3-Omni]] - Современный подход к обработке аудио в мультимодальной модели Qwen3-Omni
- [[omnilingual_asr.md]] - Многоязычная система распознавания речи от Meta, поддерживающая более 1600 языков
- [[models/whisper.md]] - Эталонная модель распознавания речи от OpenAI, с которой сравнивается Omnilingual ASR
- [[drax.md]] - Современная нон-автогрессивная модель ASR с использованием дискретного флоу-мэтчинга
- [[discrete_flow_matching_asr.md]] - Подробное описание подхода дискретного флоу-мэтчинга в задачах ASR
- [[gigaam_v3.md]] - Современная русскоязычная акустическая модель от Sber AI с поддержкой пунктуации и нормализации
- [[nvidia_multitalker_parakeet_streaming.md]] - Потоковая многоголосая модель ASR от NVIDIA
- [[nvidia_parakeet_architecture.md]] - Архитектура Parakeet и её варианты от NVIDIA
- [[sortformer_speaker_diarization.md]] - Модель диаризации дикторов, используемая совместно с многоголосовыми ASR-моделями
- [[fast_conformer_architecture.md]] - Архитектура, на которой основаны современные модели NVIDIA
- [[omnilingual_asr.md]] - Многоязычная ASR-модель от Meta, которая была обогнана GigaAM-v3 в рейтинге trending моделей на HuggingFace