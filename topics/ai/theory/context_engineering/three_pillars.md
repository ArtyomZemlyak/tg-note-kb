# Три столпа современной контекстной инженерии

## Обзор

Статья "Context Engineering 2.0" организует текущие практики Эры 2.0 во всеобъемлющую таксономию проектирования, охватывающую три основных направления. Эти три столпа составляют основу современной контекстной инженерии и обеспечивают систематический подход к проектированию систем ИИ с эффективным управлением контекстом.

## 1. Сбор и хранение контекста

### Описание
Современные системы должны собирать разнообразный, мультимодальный контекст из различных источников — от нажатий клавиш пользователем до физиологических датчиков.

### Ключевые принципы:
- **Принцип минимальной достаточности**: Собирать и хранить только ту информацию, которая необходима для задачи; ценность заключается в достаточности, а не в объёме.
- **Принцип семантической непрерывности**: Цель — поддерживать непрерывность *смысла*, а не просто сырых данных.

### Источники контекста:
- Пользовательские действия (ввод, навигация, выбор)
- Сенсорные данные (время, место, устройство)
- Внешние API и базы данных
- Мультимодальные данные (текст, изображения, аудио)

## 2. Управление контекстом

### Описание
Это сердце инженерии контекста, где сырая информация преобразуется в структурированное знание — процесс, который авторы называют «самозапекание» (self-baking).

### Ключевые стратегии:

#### Абстрагирование контекста:
- Сжатие сырой истории через саммари на естественном языке
- Извлечение ключевых фактов в фиксированную схему
- Преобразование в плотные векторные эмбеддинги

#### Мультимодальное слияние:
- Обработка разнородных входных данных (текст, изображение, аудио)
- Отображение в общее векторное пространство
- Использование механизмов cross-attention для точного согласования и рассуждений

#### Изоляция контекста:
- Использование специализированных «субагентов» с собственными изолированными окнами контекста
- Предотвращение загрязнения контекста
- Повышение надёжности системы

## 3. Использование контекста

### Описание
После управления контекст необходимо эффективно применять.

### Ключевые аспекты:

#### Выбор контекста:
- Рассмотрение фильтрации как «внимание до внимания»
- Динамический выбор наиболее релевантного подмножества контекста
- Основывается на семантической близости, логической зависимости, свежести и предпочтениях пользователя

#### Обмен контекстом:
- В мультиагентных системах информация передаётся через структурированные сообщения
- Использование общего пространства памяти (например, «классная доска» (blackboard) или графовая память)
- Обеспечение слаженного взаимодействия

#### Проактивность:
- Использование накопленного контекста для выявления скрытых потребностей пользователя
- Проактивное предложение помощи
- Переход от реактивной к кооперативной парадигме

## Практические примеры

### Google Gemini CLI
- Система контекста, ориентированная на проекты
- Использует иерархию файлов GEMINI.md для управления статическим контекстом
- Сгенерированные ИИ саммари для сжатия динамической истории диалога

### Tongyi DeepResearch
- Агент для исследовательских задач с открытым концом
- Решает проблему чрезвычайно длинных историй взаимодействия
- Периодически вызывает специализированную модель для сжатия наблюдений в компактное "состояние рассуждений"

## Связи с другими темами

- [[./index.md]] - Общий обзор контекстной инженерии 2.0
- [[./evolution_model.md]] - Как три столпа реализуются в разных эрах
- [[./formalization.md]] - Формализация аспектов управления контекстом
- [[../../llm/memory/llm_memory_overview.md]] - Обзор механизмов памяти в LLM, реализующих эти принципы
- [[../../agents/multi_model_orchestrators.md]] - Системы с несколькими моделями, использующими обмен контекстом