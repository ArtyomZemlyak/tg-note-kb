# dr-agent-lib: Библиотека для исследовательских агентов

## Описание

dr-agent-lib - это библиотека открытых исследований, построенная на протоколе контекста модели (MCP) с многоинструментальным поиском, асинхронными вызовами инструментов и accompanying suite оценки. Библиотека предоставляет программируемую инфраструктуру на основе MCP для экспериментов с шаблонами подсказок, многоступенчатыми рабочими процессами и стратегиями детального вызова инструментов без переобучения базовой модели.

## Функциональность

### Многоинструментальный поиск

dr-agent-lib поддерживает интеграцию различных инструментов поиска, включая:

- **google_search**: возвращает верхние веб-фрагменты
- **web_browse**: извлекает полный текст страницы из URL
- **paper_search**: извлекает соответствующие абзацы из научных статей с открытым доступом

### Асинхронные вызовы инструментов

Для снижения вычислительных затрат и повышения эффективности использования инструментов, библиотека использует асинхронный вызов инструментов: запросы инструментов отправляются немедленно, когда модель их вызывает, а не дожидаясь завершения всей партии генерации. Когда прогон выдает вызов инструмента, этот прогон временно засыпает, в то время как другие прогоны продолжают генерацию, позволяя поиску и генерации перекрываться везде, где это возможно.

### Система оценки

Библиотека включает в себя комплекс оценки, который позволяет тестировать и сравнивать различные стратегии вызова инструментов и подходы к планированию.

## Архитектура

### Протокол контекста модели (MCP)

dr-agent-lib построен на MCP (Model Context Protocol), что позволяет легко интегрировать различные инструменты как сменные компоненты. Это позволяет пользователям приносить свои собственные инструменты - поиски API, локальную переоценку и переупорядочивание, специфичные для сайта читатели или специфичные для домена базы данных - через единый протокол.

### Программируемый интерфейс

Библиотека предоставляет программируемый интерфейс для экспериментов с:

- Шаблонами подсказок
- Многоступенчатыми рабочими процессами
- Стратегиями детального вызова инструментов

## Применение

dr-agent-lib в основном используется в проекте DR TULU (Deep Research Tulu) для обеспечения агента многоинструментальными возможностями поиска. Библиотека управляет одновременностью, кэшированием и ограничениями скорости под абстракцией MCP.

## Преимущества

### Гибкость

Пользователи могут легко интегрировать свои собственные инструменты без переобучения базовой модели, просто описав новые инструменты модели.

### Эффективность

Асинхронные вызовы инструментов позволяют оптимизировать использование ресурсов за счет перекрытия времени поиска и генерации.

### Расширяемость

Архитектура MCP позволяет легко добавлять новые типы инструментов и функций без изменения основной модели.

## Связи с другими темами

- [[agents/dr_tulu_deep_research_agent.md]] - Основное применение dr-agent-lib в системе DR TULU
- [[reinforcement_learning/rler_reinforcement_learning_with_evolving_rubrics.md]] - Интеграция с системой обучения с подкреплением
- [[tools/available_agent_tools.md]] - Другие инструменты, доступные для агентов
- [[agents/available_agent_tools.md]] - Обзор инструментов, доступных для агентов

## Источники

1. [DR TULU: AN OPEN, END-TO-END TRAINING RECIPE FOR LONG-FORM DEEP RESEARCH](https://allenai.org/blog/dr-tulu) - официальный блог-пост от Allen Institute, описывающий dr-agent-lib и его применение в проекте DR TULU