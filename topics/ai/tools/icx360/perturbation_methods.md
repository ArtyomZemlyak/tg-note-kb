# Методы на основе возмущений для объяснения LLM (Perturbation-based Methods for LLM Explanations)

## Описание

Методы на основе возмущений (perturbation-based methods) - это семейство техник для объяснения поведения больших языковых моделей, основанные на внесении изменений в входные данные и наблюдении за соответствующими изменениями в выходных данных. Эти методы работают путем "вмешательства" в вход или внутреннее состояние модели и измерения влияния этих изменений на генерацию ответа.

## Принцип работы

Методы на основе возмущений следуют следующей общей схеме:
1. Внесение контролируемого изменения (возмущения) в входные данные или внутреннее состояние модели
2. Запись выхода модели до и после возмущения
3. Сравнение результатов для определения влияния изменений
4. Квантификация значимости различных частей входа на основе величины изменений

## Типы возмущений

### 1. Текстовые возмущения

- **Замена токенов**: Замена определенных слов или токенов на семантически похожие или случайные альтернативы
- **Удаление токенов**: Удаление частей входа (слов, фраз, предложений) для определения их влияния
- **Искажение порядка**: Изменение порядка слов или фраз в промпте

### 2. Логические возмущения

- **Инверсия значений**: Смена полярности или логических операторов в промпте
- **Удаление ограничений**: Удаление ограничивающих условий или инструкций
- **Добавление противоречий**: Введение потенциально конфликтующих инструкций

### 3. Семантические возмущения

- **Пафосные изменения**: Замена слов на синонимы с разным эмоциональным окрасом
- **Стилистические изменения**: Изменение формальности или стиля языка
- **Контекстуальные изменения**: Добавление или удаление дополнительного контекста

## Применение в ICX360

В рамках библиотеки [[index.md]] методы на основе возмущений используются для:

### Анализа чувствительности
Определение того, какие части входа являются наиболее чувствительными к изменениям и оказывают наибольшее влияние на вывод модели.

### Обнаружение аномалий
Выявление входных данных, которые приводят к неожиданно большим изменениям в выводе, что может указывать на нестабильность модели.

### Объяснение поведения
Понимание того, почему модель выбрала определенный ответ, путем анализа, какие изменения в промпте приводят к другим результатам.

## Преимущества

- **Интерпретируемость**: Результаты легко интерпретируются, так как показывают причинно-следственную связь между входом и выходом
- **Независимость от архитектуры**: Могут применяться к любым моделям без знания внутренней архитектуры
- **Локальная точность**: Обеспечивают точную информацию о влиянии конкретных частей входа

## Ограничения

- **Вычислительная стоимость**: Требуют множественных вызовов модели, что может быть дорого для больших моделей
- **Проблема составного эффекта**: Трудно раздельно оценить влияние нескольких частей входа при одновременных возмущениях
- **Зависимость от метрики**: Результаты могут зависеть от выбранной метрики для оценки изменений

## Сравнение с другими методами

В отличие от:
- **Методов внимания**: Не требуют доступа к внутренним состояниям модели
- **Градиентных методов**: Работают с дискретными токенами без необходимости в непрерывных приближениях
- **Методов трассировки активаций**: Не требуют глубокого анализа внутренних представлений

## Источники

1. [ICX360: In-Context eXplainability 360 Toolkit](https://arxiv.org/abs/2511.10879) - Описание методов возмущений в контексте библиотеки ICX360
2. [Perturbation-based Methods for Interpretability in NLP](https://arxiv.org/abs/2102.09811) - Обзор методов возмущений для интерпретации в NLP
3. [A Survey of Methods for Explaining Black Box Models](https://dl.acm.org/doi/10.1145/3236009) - Общее исследование методов объяснения черного ящика