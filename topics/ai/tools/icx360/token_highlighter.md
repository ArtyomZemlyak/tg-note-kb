# Механизм выделения токенов (Token Highlighter) в ICX360

## Описание

Механизм выделения токенов (Token Highlighter) - это унифицированный метод анализа токенов, разработанный в рамках библиотеки [[index.md]] для идентификации токенов, которые могут привести к поведению jailbreak (обходу безопасности) или другим нежелательным результатам. Этот инструмент позволяет выделять и анализировать конкретные части входа, которые потенциально могут вызвать нежелательное поведение модели.

## Принцип работы

Механизм выделения токенов работает по следующему принципу:
1. **Сканирование входа**: Анализ входного текста на наличие потенциально проблемных паттернов
2. **Оценка риска**: Присвоение оценки риска каждому токену или последовательности токенов
3. **Выделение**: Визуальное или логическое выделение токенов с высоким риском
4. **Объяснение**: Предоставление объяснений, почему конкретные токены были отмечены как проблемные

## Применение

### 1. Обнаружение jailbreak-попыток

Механизм выделения токенов особенно эффективен для идентификации входов, которые могут привести к:
- Обходу инструкций безопасности
- Выдаче конфиденциальной информации
- Игнорированию этических ограничений модели

### 2. Анализ уязвимостей

Инструмент позволяет:
- Определять уязвимые места в промптах
- Анализировать эффективность различных методов jailbreak
- Оценивать устойчивость модели к атакам

### 3. Объяснение поведения модели

Кроме анализа безопасности, механизм выделения токенов:
- Показывает, какие части входа наиболее влияют на вывод
- Помогает понять чувствительность модели к определенным словам или фразам
- Обеспечивает интуитивное понимание поведения модели

## Технические особенности

### Унифицированный подход

Механизм использует унифицированный подход к анализу токенов, что означает:
- Единые критерии оценки для различных типов угроз
- Стандартизированные методы взвешивания и выделения
- Согласованная интерпретация результатов

### Интеграция с другими методами

Token Highlighter интегрирован с другими методами ICX360:
- Работает совместно с методами на основе возмущений для глубокого анализа
- Использует контрастные объяснения для понимания влияния выделенных токенов

## Преимущества

- **Предиктивность**: Может предсказывать потенциальные проблемы до их возникновения
- **Интерпретируемость**: Предоставляет понятные объяснения выделения токенов
- **Гибкость**: Может быть настроен для разных типов угроз и сценариев использования

## Ограничения

- **Ложные срабатывания**: Может отмечать безобидные токены как проблемные
- **Пропуск угроз**: Некоторые сложные формы jailbreak могут не быть обнаружены
- **Контекстуальная чувствительность**: Эффективность может зависеть от общего контекста промпта

## Связь с другими темами

- [[perturbation_methods.md]] - Token Highlighter может использовать возмущения для оценки влияния токенов
- [[cell.md]] - Выделенные токены могут анализироваться с помощью контрастных объяснений
- [[../../llm/security/hallucination_detection.md]] - Схожие подходы к обнаружению нежелательного поведения

## Источники

1. [ICX360: In-Context eXplainability 360 Toolkit](https://arxiv.org/abs/2511.10879) - Описание механизма выделения токенов в контексте библиотеки
2. [Jailbreak Attack Detection in Large Language Models](https://arxiv.org/abs/2308.03825) - Методы обнаружения jailbreak-атак
3. [Token-Level Risk Assessment in LLMs](https://dl.acm.org/doi/10.1145/3543873.3587612) - Оценка рисков на уровне токенов для LLM