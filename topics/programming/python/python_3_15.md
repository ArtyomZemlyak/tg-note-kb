# Python 3.15 - Нововведения

## Краткое описание

Python 3.15 - значительное обновление языка, включающее улучшения производительности, новые инструменты профилирования, расширенные возможности системы типов и улучшения стабильности в многопоточной среде.

## Основные изменения

### Новый модуль профилирования

Python 3.15 вводит новую систему профилирования с PEP 799. Модуль `profiling.sampling` предоставляет:

- **Статистическое профилирование**: Возможность анализа производительности кода без пауз и overhead'а
- **Нулевой оверхед**: Профилирование запущенных процессов Python без влияния на производительность
- **Реальное время**: Мониторинг статистики в реальном времени
- **Высокая частота выборки**: До 1,000,000 Гц
- **Форматы вывода**: Включая данные для создания flamegraph
- **Поддержка потоков**: Профилирование с учетом потоков

Подробнее: [[profiling/sampling_profiler.md]] - Подробнее о новом модуле профилирования

### Оптимизации стандартной библиотеки

- **Модуль CSV**: `csv.Sniffer.sniff()` теперь работает до 1.6x быстрее
- **Новый подмодуль math.integer**: Для специфических математических операций с целыми числами
- **Добавление Zstandard**: Новый модуль сжатия в стандартную библиотеку (PEP 784)

Подробнее: [[performance/performance_python_3_15.md]] - Подробнее об оптимизациях производительности

### Улучшения системы типов

Python 3.15 включает несколько важных обновлений в системе типов:

- **PEP 728**: TypedDict с Typed Extra Items
- **PEP 746**: Type checking Annotated metadata
- **PEP 747**: Annotating Type Forms
- **PEP 764**: Inline typed dictionaries
- **PEP 800**: Disjoint bases in the type system
- **PEP 781**: TYPE_CHECKING как встроенная константа

Подробнее: [[typing/typing_python_3_15.md]] - Подробнее об обновлениях системы типов

### Улучшения языка

- **PEP 686**: UTF-8 теперь кодировка по умолчанию
- **Улучшенные сообщения об ошибках**: Лучшие предложения для AttributeError
- **Расширенная поддержка чисел**: Функции, принимающие временные метки или таймауты, теперь принимают любые вещественные числа (Decimal, Fraction)

### Улучшения многопоточности

- **PEP 803**: Стабильный ABI для free-threaded сборок
- **PEP 810**: Явные ленивые импорты для улучшения времени запуска и использования памяти

## Примеры применения

Новый профайлер поможет находить узкие места в коде без остановки приложения. Это особенно полезно для:

- Профилирования продакшн-приложений
- Анализа производительности в реальном времени
- Отладки производительности в сложных системах

## Связи с другими темами

- [[profiling/sampling_profiler.md]] - Модуль профилирования sampling
- [[performance/performance_python_3_15.md]] - Улучшения производительности в Python 3.15
- [[typing/typing_python_3_15.md]] - Изменения в системе типов Python 3.15