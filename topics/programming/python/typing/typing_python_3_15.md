# Обновления системы типов в Python 3.15

## Краткое описание

Python 3.15 включает несколько важных обновлений в системе типов, улучшающих выразительность и точность аннотаций типов.

## Основные изменения

### TypedDict с Typed Extra Items (PEP 728)

PEP 728 добавляет возможность более точной типизации дополнительных элементов в TypedDict, позволяя более точно описывать структуры данных с известными и неизвестными полями.

### Type checking Annotated metadata (PEP 746)

PEP 746 улучшает поддержку метаданных в аннотациях типов, позволяя передавать дополнительную информацию проверяющим типы инструментам.

### Annotating Type Forms (PEP 747)

PEP 747 добавляет возможности аннотирования форм типов (type forms), расширяя возможности системы типов.

### Inline typed dictionaries (PEP 764)

PEP 764 вводит возможность создания анонимных TypedDict прямо в месте использования, упрощая синтаксис для простых случаев.

### Disjoint bases in the type system (PEP 800)

PEP 800 добавляет возможность указания несовместимых базовых классов в системе типов, позволяя более точно выражать намерения разработчика.

### TYPE_CHECKING как встроенная константа (PEP 781)

PEP 781 делает `TYPE_CHECKING` встроенной константой, что улучшает производительность проверки типов.

## Устаревшие и удаленные функции

- Удалена недокументированная возможность использования ключевых аргументов для создания классов NamedTuple
- Улучшена обработка порядка параметров типов в классах Protocol
- Улучшена конструкция TypedDict

## Примеры применения

Эти изменения полезны для:

- Более точного описания API
- Улучшения проверки типов в крупных проектах
- Упрощения синтаксиса аннотаций в некоторых случаях
- Повышения производительности при проверке типов

## Связи с другими темами

- [[../python_3_15.md]] - Обзор нововведений Python 3.15
- [[../performance/performance_python_3_15.md]] - Улучшения производительности в Python 3.15